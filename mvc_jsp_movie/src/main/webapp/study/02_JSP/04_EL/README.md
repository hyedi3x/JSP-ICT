## 🧐 커스텀 태그 / EL
### 🎓 커스텀 태그란?
>- ***커스텀 태그(Custom tag)*** : 사용자 정의 태그 
> - 스크립트릿(<% %>) 사용을 줄이고, **'태그와 같은 형태로 프로그램 코드로 대체'/'재활용 가능한 태그 라이브러리로 활용'하기 위해 개발된 규격**
> - 외형은 XML(HTML) 태그 구조이지만, **서블릿 형태로 변환될 때 → 자바 코드로 변경되어 통합되는 방식**이다. 

<br/>


### ⚙️ 커스텀 태그 사용 
>- `taglib 지시어`를 사용해, **'커스텀 태그가 어디에 정의되어 있는지 먼저 선언'** 해야 하며, **"태그에 사용할 접두어를 지정"**해야 한다. 
>- ❗커스텀 태그 자체가 서버에서 해석되는 구조이므로, 프로젝트가 **'특정 커스텀 태그에 종속'될 수 있기에**, **직접 커스텀 태그를 만드는 방식은 권장하지 않는다.** 
```
<%@-- 커스텀 태그로 만들어진 JSTL을 주로 사용한다. --%>
<%@ taglib prefix="core" uri="http://java.sun.com/jsp/jstl/core" %>
```

<br>

---

### 🎓 EL(Expression Language)이란?
>- **표현 언어**로, 주로 `EL`이라고 불린다. 
>- 현재 페이지의 자바 객체 혹은 application, request, page와 같은 scope object에 저장된 자바 빈 객체를 손쉽게 접근하고 사용할 수 있게 해준다. 
>- 데이터를 표현하기 위한 용도로 설계되었다. 

>- EL은 단순한 출력 외에 사칙연산, 비교연산, 논리연산, 3항 연산 등을 지원하다. 

> **[EL의 장점]**
>- 간단한 구문으로 변수/객체를 참조할 수 있다.
>- 데이터가 없거나 null 객체를 참조할 때, 에러가 발생하지 않는다.

<br>

#### 💡 자바 빈 접근 방법
: EL을 통해 scope object에 저장된 자바 빈 객체를 참조하는 방법
```jsp
<body>
    <%-- ${저장이름(클래스명).변수명} --%>
    <%-- ${저장이름(클래스명).get메서드()} --%>
</body>
```

<br>

#### 🔩 EL을 통해 나타낼 수 있는 자료형태
| 입력값 | 형태 | 출력값 |
|---|---|---|
| `${5}` | **정수** | 5 |
| `${4/3}` | **실수** | 1.33333333.. |
| `${'문자열'}` | **문자열(작은따옴표써야 함)** |"문자열" |
| `${param.num > 5}` | **boolean** | 만약 이름이 'num'이 파라미터 값 5보다 크면 true, 아니면 false|
| `${null}` | **null** | null |

<br>

#### 🔩 EL에서 사용 가능한 연산자
| 연산자 | 설명 |
|---|---|
| `+, -, *(산술연산자)` | 더하기, 빼기, 곱하기 |
| `/ 또는 div(산술연산자)` | 나누기 |
| `% 또는 mod(산술연산자)` | 나머지 |
| `== 또는 eq(비교연산자)` | 동일 |
| `!= 또는 ne(비교연산자)` | not, 동일하지 않을 때 |
| `> 또는 gt(비교연산자)` | 왼쪽 조건이 더 클 때 |
| `< 또는 lt(비교연산자)` | 오른쪽 조건이 더 클 때 |
| `>= 또는 ge(비교연산자)` | 왼쪽 조건이 더 크거나 같을 때 |
| `<= 또는 le(비교연산자)` | 오른쪽 조건이 더 크거나 같을 때 |
| `&& 또는 and(논리연산자)` | 모든 조건이 true일 때, true 반환|
| `\|\| 또는 or(논리연산자)` | 조건이 하나라도 true일 때, true 반환 |
| `! 또는 not(논리연산자)` | 모든 조건이 false일 때, true 반환 |
| `empty(empty)` | 표현식 안의 값이 비어있을 경우 true 반환 |
| `not empty(empty)` | 표현식 안의 값이 비어있지 않으면 false 반환 |
>https://sgcomputer.tistory.com/243

<br>

#### 🔩 EL의 내장 객체
| 객체명 | 설명 |
|---|---|
| `${pageScope}` | page Scope에 접근하기 위한 객체 |
| `${reqeustScope}` | request Scope에 접근하기 위한 객체 |
| `${sessionScope}` | session Scope에 접근하기 위한 객체 |
| `${applicationScope}` | application Scope에 접근하기 위한 객체 |
| `${param}` | 파라미터 값을 가져오기 위한 객체 |
| `${header}` | 헤더 값을 가져오기 위한 객체 |
| `${cookie}` | 쿠키 값을 가져오기 위한 객체 |
| `${initParam}` | JSP 초기 파라미터를 가져오기 위한 객체 |
| `${pageContext}` | pageContext 객체에 접근하기 위한 객체 |

#### 🔩 EL에서 배열, 맵 데이터 연동
참조하는 객체가 배열이나 맵 형태인 경우, 다음과 같이 사용한다.
```jsp
    ${myList[0]} // 배열인 경우
    ${myMap["name"]} // 맵인 경우
```

<br>

#### 🔩 Scope Object 접근
EL은 기본적으로 모든 scope에서 자바 빈 객체를 찾는다. 
```jsp
    <%-- 특정 scope만을 대상으로 참조하려면, '내장객체명Scope.속성이름'형식 사용--%>
    ${requestScope.m.name}  // requestScope에 있는 객체 참조 (객체=클래스(m 클래스))
    <%-- 값이 scope object 속성으로 저장된 것이 아닌 request의 파라미터로 전달된 값의 경우는 위의 구문 참조 불가.--%>
    <%= request.getParameter("uname") %>
    EL : ${param.name} 
```
